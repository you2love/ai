<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>提示词优化 - AI技术学习平台</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- Prism.js syntax highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet">
</head>
<body>
    <section class="section">
        <div class="container">
            <h2 class="section-title">✨ 提示词优化指南</h2>
            <p class="section-subtitle">掌握提示词编写技巧，充分发挥大模型潜力</p>

            <div class="card">
                <div class="card-header">为什么提示词如此重要？</div>
                <div class="diagram-box">
                    <div class="diagram-content">
┌─────────────────────────────────────────────────────────────────────────┐
│                     提示词质量决定输出质量                                  │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│   模糊提示词                    精确提示词                                 │
│   ┌─────────────┐               ┌─────────────┐                       │
│   │ 帮我写代码  │               │ 用 Python 写一个                     │
│   │              │               │ 快速排序函数，要求：                  │
│   │ 结果不可控   │      →        │ 1. 有中文注释                       │
│   │              │               │ 2. 处理边界情况                      │
│   └─────────────┘               └─────────────┘                       │
│                                                                         │
│   ❌ 结果随机                                              │
│                                                                         │
│                                         ✅ 结果符合预期                     │
│                                                                         │
│   💡 结论：好的提示词 = 清晰的目标 + 具体的约束 + 充分的上下文          │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
                    </div>
                </div>
            </div>

            <h3>📋 提示词核心要素</h3>

            <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                <div class="card">
                    <div class="card-header">🎯 明确目标</div>
                    <p style="font-size: 0.9rem; margin-bottom: 1rem;">清晰定义你希望 AI 做什么</p>
                    <pre class="code-block"><code class="language-python"># ❌ 模糊
"写一些代码"

# ✅ 清晰
"用 Python 编写一个函数，实现用户登录验证功能，
包括用户名密码校验、错误次数限制、锁定机制"</code></pre>
                </div>

                <div class="card">
                    <div class="card-header">📝 提供上下文</div>
                    <p style="font-size: 0.9rem; margin-bottom: 1rem;">让 AI 了解背景信息</p>
                    <pre class="code-block"><code class="language-python"># ❌ 缺少背景
"优化这段代码"

# ✅ 有上下文
"这是一段电商系统的用户积分计算代码，
日均调用量 100 万次，请优化性能，
当前使用 MySQL，需要考虑高并发场景"</code></pre>
                </div>

                <div class="card">
                    <div class="card-header">📏 设定约束</div>
                    <p style="font-size: 0.9rem; margin-bottom: 1rem;">明确输出格式和限制条件</p>
                    <pre class="code-block"><code class="language-python"># ❌ 无约束
"介绍一下 Python"

# ✅ 有约束
"用 200 字以内介绍 Python 的特点，
使用比喻手法，目标读者是产品经理，
不要提到任何代码示例"</code></pre>
                </div>

                <div class="card">
                    <div class="card-header">🔄 指定格式</div>
                    <p style="font-size: 0.9rem; margin-bottom: 1rem;">告诉 AI 如何组织输出</p>
                    <pre class="code-block"><code class="language-python"># ❌ 格式随意
"给出几个投资建议"

# ✅ 格式明确
"给出 3 个理财建议，按以下格式输出：
1. 建议标题（一句话）
2. 详细说明（3-5 行）
3. 适用人群
4. 风险等级（低/中/高）"</code></pre>
                </div>
            </div>

            <h3>🛠️ 提示词编写框架</h3>

            <div class="card">
                <div class="card-header">CRISPE 框架</div>
                <div class="diagram-box">
                    <div class="diagram-content">
┌─────────────────────────────────────────────────────────────────────────┐
│                     CRISPE 提示词框架                                     │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│   C - Capacity/Role    能力与角色        "你是一个资深架构师"             │
│   R - Insight           背景洞察          "有 10 年分布式系统经验"         │
│   S - Statement         陈述任务          "请设计一个高可用微服务方案"     │
│   P - Personality       个性风格          "用简洁专业的语言"               │
│   E - Experiment       实验迭代          "给出 2 种不同方案对比"         │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">完整示例</div>
                <pre class="code-block"><code class="language-python"># 使用 CRISPE 框架的提示词
"""
你是一个拥有 15 年经验的后端架构师（Capacity）
曾主导过多个日活千万级的互联网项目（Insight）
现在需要设计一个支持亿级用户的消息推送系统（Statement）
请用技术博客的风格，包含架构图描述和关键代码示例（Personality）
最后对比分析 3 种技术方案的优缺点（Experiment）
"""

# AI 输出会：角色明确、经验丰富、方案专业、风格一致、对比全面</code></pre>
            </div>

            <h3>🎨 不同场景的提示词模板</h3>

            <div class="card">
                <div class="card-header">代码生成场景</div>
                <pre class="code-block"><code class="language-python"># 模板结构
"""
【语言/框架】：Python 3.10 + FastAPI
【功能需求】：实现用户注册 API
【具体要求】：
1. 输入验证（邮箱格式、手机号）
2. 密码强度校验（8位以上，包含数字字母）
3. 写入 MySQL 数据库
4. 返回格式 JSON

【约束条件】：
- 使用异步处理
- 添加单元测试
- 代码有中文注释
- 不要使用第三方库
"""

# AI 会生成完整的 FastAPI 用户注册代码</code></pre>
            </div>

            <div class="card">
                <div class="card-header">文档写作场景</div>
                <pre class="code-block"><code class="language-python"># 模板结构
"""
【写作类型】：技术文档
【主题】：Redis 缓存最佳实践
【目标读者】：初中级后端开发（2-3年经验）
【内容要点】：
1. 缓存使用场景
2. 常见问题及解决方案
3. 配置建议
4. 监控指标

【格式要求】：
- 使用 Markdown 格式
- 包含代码示例
- 标题用中文，正文用中文
- 预计 3000 字
"""

# AI 会生成结构清晰的技术文档</code></pre>
            </div>

            <div class="card">
                <div class="card-header">问题分析场景</div>
                <pre class="code-block"><code class="language-python"># 模板结构
"""
【问题描述】：线上接口响应变慢
【环境信息】：
- 技术栈：Java 17 + Spring Boot 3.0 + MySQL 8.0
- 数据量：单表 1000 万数据
- 监控数据：P99 从 50ms 上升到 500ms

【已尝试】：增加服务器数量，无明显改善

【分析要求】：
1. 可能的原因有哪些
2. 如何排查定位
3. 给出解决方案优先级
"""

# AI 会基于经验给出系统性的分析建议</code></pre>
            </div>

            <h3>⚡ 进阶技巧</h3>

            <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                <div class="card">
                    <div class="card-header">🔁 迭代优化</div>
                    <p style="font-size: 0.9rem; margin-bottom: 0.5rem;">分步骤完善输出</p>
                    <pre class="code-block"><code class="language-python"># 第一步：获取初稿
"写一个 Python 快速排序函数"

# 第二步：增加要求
"在基础上，添加中文注释，
并处理空列表和重复元素的边界情况"

# 第三步：进一步优化
"将函数封装成类，
增加时间复杂度分析注释，
提供示例使用"</code></pre>
                </div>

                <div class="card">
                    <div class="card-header">📊 Few-Shot 示例</div>
                    <p style="font-size: 0.9rem; margin-bottom: 0.5rem;">给出示例引导输出格式</p>
                    <pre class="code-block"><code class="language-python"># 给出期望的输入输出示例
"""
请按照以下格式生成情感分析结果：

输入：今天天气真好
输出：正面，置信度 0.95

输入：产品太差了，差评
输出：负面，置信度 0.92

输入：这个商品一般般
输出：中性，置信度 0.88

现在分析：刚才开会讨论了很久，感觉没有什么进展"""</code></pre>
                </div>

                <div class="card">
                    <div class="card-header">🎭 角色扮演</div>
                    <p style="font-size: 0.9rem; margin-bottom: 0.5rem;">设定专业角色提升质量</p>
                    <pre class="code-block"><code class="language-python"># 设定角色和风格
"""
你是一个资深的技术面试官，有 10 年互联网大厂面试经验。
擅长考察候选人的思维逻辑和基础知识。
现在请你以面试官的身份，问我 5 个 MySQL 索引相关的面试题。
难度从易到难，每个问题后给出标准答案和考察要点。
"""</code></pre>
                </div>

                <div class="card">
                    <div class="card-header">🔢 分解任务</div>
                    <p style="font-size: 0.9rem; margin-bottom: 0.5rem;">复杂任务分步处理</p>
                    <pre class="code-block"><code class="language-python"># 复杂任务拆解
"""
任务：帮我搭建一个博客系统

步骤1：先设计整体架构，包含技术选型
步骤2：设计数据库表结构
步骤3：给出核心 API 接口设计
步骤4：提供关键代码实现

请先完成步骤1，我确认后再继续下一步"""</code></pre>
                </div>
            </div>

            <h3>🚫 常见错误与修正</h3>

            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>错误类型</th>
                            <th>示例</th>
                            <th>修正方案</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>过于笼统</strong></td>
                            <td>"帮我优化代码"</td>
                            <td>"这是一个用户查询接口，QPS 10000，延迟 200ms，请优化到 50ms 以下"</td>
                        </tr>
                        <tr>
                            <td><strong>缺少上下文</strong></td>
                            <td>"写一个排序算法"</td>
                            <td>"用 Python 写一个适合小数据量的排序算法，数据量 100-1000 之间，要求稳定排序"</td>
                        </tr>
                        <tr>
                            <td><strong>约束不清</strong></td>
                            <td>"介绍下 Java"</td>
                            <td>"用 500 字介绍 Java 的特点，面向有 Python 经验的开发者，使用对比的方式"</td>
                        </tr>
                        <tr>
                            <td><strong>格式模糊</strong></td>
                            <td>"给些建议"</td>
                            <td>"给出 5 条提高代码质量的建议，每条包含：问题描述、解决方案、代码示例"</td>
                        </tr>
                        <tr>
                            <td><strong>期望过高</strong></td>
                            <td>"帮我写个淘宝"</td>
                            <td>"帮我设计一个小型电商系统的用户模块，包含注册、登录、个人中心，给出架构设计和核心代码"</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3>💡 场景化提示词示例</h3>

            <div class="card">
                <div class="card-header">程序员常用场景</div>
                <pre class="code-block"><code class="language-python"># 代码解释
"""
请解释这段代码的功能和工作原理：
[粘贴代码]
请用通俗易懂的语言，如果有复杂逻辑请分步骤说明。
"""

# Bug 修复
"""
这段代码报错了：[粘贴错误信息]
相关代码：[粘贴代码]
请分析问题原因并给出修复方案。
"""

# 代码审查
"""
请从以下角度审查这段代码：
1. 潜在 Bug
2. 性能问题
3. 安全风险
4. 代码规范
5. 可改进建议
[粘贴代码]
"""

# 技术选型
"""
我需要为一个日活 10 万的社区应用选择技术栈，
前端：用户端（Web + App）
后端：Java 或 Go
请从以下角度对比分析：
1. 开发效率
2. 性能表现
3. 运维成本
4. 人才招聘
"""

# 学习新技术
"""
我有 3 年 Python 经验，现在需要用 Go 开发 RESTful API，
请帮我规划学习路径：
1. 核心概念（2 天）
2. 框架选择和入门（3 天）
3. 项目实战（1 周）
4. 进阶内容
推荐学习资源（官方文档、视频、书籍）"""</code></pre>
            </div>

            <div class="card">
                <div class="card-header">日常办公场景</div>
                <pre class="code-block"><code class="language-python"># 邮件撰写
"""
帮我写一封工作邮件：
场景：项目延期通知
收件人：项目负责人和团队成员
要点：
1. 说明延期原因（技术难度超出预期）
2. 新的交付时间（推迟 3 天）
3. 已采取的补救措施
4. 语气要诚恳但专业
"""

# 会议纪要
"""
请将以下会议记录整理成结构化的会议纪要：
[粘贴原始记录]
格式要求：
1. 会议基本信息
2. 讨论要点
3. 决策事项
4. 待办事项（负责人 + 截止时间）
5. 下次会议安排
"""

# 数据分析
"""
请分析这份销售数据报告：
[粘贴数据或描述数据]
输出要求：
1. 关键发现（3-5 条）
2. 异常情况说明
3. 建议采取的行动
4. 后续关注指标
"""

# 方案对比
"""
请对比分析以下两个技术方案：
方案 A：[描述]
方案 B：[描述]
从以下角度对比：
1. 实现难度
2. 维护成本
3. 扩展性
4. 安全性
5. 成本估算
给出推荐意见和理由"""</code></pre>
            </div>

            <div class="card">
                <div class="card-header">写作创作场景</div>
                <pre class="code-block"><code class="language-python"># 文章改写
"""
请将以下技术文章改写成适合公众号发布的版本：
[粘贴原文]
要求：
1. 标题要吸引人，增加悬念
2. 语言更口语化，增加趣味性
3. 配图建议（用文字描述需要的配图）
4. 控制字数在 2000 字以内
5. 结尾增加互动问题，引导评论
"""

# 内容扩展
"""
请将以下大纲扩展成一篇完整的文章：
[粘贴大纲]
要求：
1. 每个要点展开 200-300 字
2. 包含 2-3 个真实案例
3. 结尾有总结和展望
4. 使用 Markdown 格式
"""

# 翻译润色
"""
请将以下中文技术文档翻译成英文：
[粘贴内容]
要求：
1. 保持专业术语准确
2. 符合英文表达习惯
3. 语法准确，用词专业
4. 翻译后请检查一遍确保没有错误
"""

# 摘要提取
"""
请从以下长文中提取关键信息：
[粘贴长文（5000+ 字）]
输出要求：
1. 核心观点（3-5 条）
2. 重要数据
3. 结论
4. 总字数控制在 500 字以内
"""</code></pre>
            </div>

            <h3>💻 程序员进阶：工程化提示词</h3>

            <div class="card" style="margin-bottom: 1.5rem;">
                <div class="card-header">🎯 为什么需要"进阶版"提示词？</div>
                <div class="card-body">
                    <p style="margin-bottom: 1rem;">你之前理解的是"多轮对话、写文案"，那是<strong>用户级 Prompt Engineering</strong>。<br>
                    程序员需要的是<strong>代码级 Prompt Engineering</strong>：把 Prompt 当成代码的一部分来设计和管理。</p>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>维度</th>
                                    <th>用户级</th>
                                    <th>工程师级</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><td>使用场景</td><td>日常对话</td><td>企业系统、生产环境</td></tr>
                                <tr><td>Prompt 管理</td><td>手动输入</td><td>版本化、配置化</td></tr>
                                <tr><td>动态性</td><td>静态</td><td>根据业务动态拼接</td></tr>
                                <tr><td>测试</td><td>人工评估</td><td>A/B 测试、自动化评估</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <h4 style="margin: 1.5rem 0 1rem;">🔧 动态拼接与管理</h4>

            <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                <div class="card">
                    <div class="card-header">📝 1）Prompt 模板化</div>
                    <p style="font-size: 0.9rem; margin-bottom: 1rem;">使用模板引擎定义 Prompt 模板，预留变量</p>
                    <pre class="code-block"><code class="language-python">from langchain.prompts import PromptTemplate

template = """
你是一个企业知识库助手，请根据以下参考资料回答用户问题。

【参考资料】
{context_str}

【用户问题】
{question}

请用清晰、简洁的语言回答，并注明引用的文档编号。
"""

PROMPT = PromptTemplate(
    input_variables=["context_str", "question"],
    template=template,
)</code></pre>
                </div>

                <div class="card">
                    <div class="card-header">⚙️ 2）动态组装 Prompt</div>
                    <p style="font-size: 0.9rem; margin-bottom: 1rem;">在 RAG 等场景中，根据检索结果动态拼接</p>
                    <pre class="code-block"><code class="language-python"># 典型 RAG 流程
def build_prompt(user_question: str, retrieved_chunks: List[str]) -> str:
    # 1. 将 chunks 拼成上下文
    context_str = "\n\n".join([
        f"[文档{i+1}]\n{chunk}"
        for i, chunk in enumerate(retrieved_chunks)
    ])

    # 2. 组装完整 Prompt（包含系统指令、上下文、示例等）
    prompt = f"""
你是一个专业的技术问答助手。

【系统指令】
- 只基于提供的上下文回答，不要编造信息
- 如果找不到答案，直接说"无法从提供的资料中找到答案"
- 回答要简洁准确

【上下文】
{context_str}

【用户问题】
{user_question}

【输出格式】
请先给出简短结论，然后详细解释。
"""

    return prompt</code></pre>
                </div>

                <div class="card">
                    <div class="card-header">📊 3）版本管理与实验</div>
                    <p style="font-size: 0.9rem; margin-bottom: 1rem;">把 Prompt 模板放在配置中管理</p>
                    <pre class="code-block"><code class="language-python"># prompts.yaml
prompts:
  v1.0:
    system: "你是一个助手"
    temperature: 0.7
  v1.1:
    system: "你是一个专业助手，请用简洁语言回答"
    temperature: 0.5
  v2.0:
    system: |
      你是一个技术专家。
      - 只基于上下文回答
      - 如果不确定，说明不知道
    examples:
      - input: "什么是API?"
        output: "API是应用程序接口..."
    temperature: 0.3

# 使用 A/B 测试
def get_prompt_variant(user_id: str) -> str:
    variant = "v2.0" if hash(user_id) % 2 == 0 else "v1.1"
    return load_prompt_template(variant)</code></pre>
                </div>
            </div>

            <h4 style="margin: 1.5rem 0 1rem;">🛡️ 工程要点</h4>

            <div class="cards-grid">
                <div class="card">
                    <h4 style="margin-bottom: 0.75rem;">📐 结构化提示词设计</h4>
                    <ul style="font-size: 0.85rem; padding-left: 1.2rem;">
                        <li><strong>Role</strong> - 角色定义</li>
                        <li><strong>Instruction</strong> - 任务指令</li>
                        <li><strong>Context</strong> - 上下文信息</li>
                        <li><strong>Output Format</strong> - 输出格式</li>
                        <li><strong>Examples</strong> - 示例</li>
                    </ul>
                </div>

                <div class="card">
                    <h4 style="margin-bottom: 0.75rem;">📄 控制输出结构</h4>
                    <ul style="font-size: 0.85rem; padding-left: 1.2rem;">
                        <li>JSON 格式 - 方便后端解析</li>
                        <li>Markdown 表格 - 结构化展示</li>
                        <li>代码块 - 技术文档</li>
                        <li>结构化字段 - 分类、置信度</li>
                    </ul>
                </div>

                <div class="card">
                    <h4 style="margin-bottom: 0.75rem;">🔒 安全与合规</h4>
                    <ul style="font-size: 0.85rem; padding-left: 1.2rem;">
                        <li>Prompt 注入防护</li>
                        <li>用户输入长度限制</li>
                        <li>敏感词过滤</li>
                        <li>输出内容审核</li>
                    </ul>
                </div>
            </div>

            <h3>✅ 最佳实践清单</h3>

            <div style="display: flex; flex-direction: column; gap: 1.5rem;">
                <div class="card">
                    <h4>📝 提示词检查表</h4>
                    <ul style="font-size: 0.85rem; padding-left: 1rem;">
                        <li>✅ 目标是否清晰明确</li>
                        <li>✅ 必要的上下文是否提供</li>
                        <li>✅ 约束条件是否完整</li>
                        <li>✅ 输出格式是否指定</li>
                        <li>✅ 长度/范围是否限定</li>
                        <li>✅ 是否有示例可参考</li>
                        <li>✅ 角色/风格是否设定</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>⚠️ 需要避免的做法</h4>
                    <ul style="font-size: 0.85rem; padding-left: 1rem;">
                        <li>❌ 使用模糊词汇（"一些"、"若干"）</li>
                        <li>❌ 期望 AI 读懂你的心思</li>
                        <li>❌ 一次性提出过多要求</li>
                        <li>❌ 不给任何约束条件</li>
                        <li>❌ 只说"帮我做"不说"做什么"</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>🚀 提升效率技巧</h4>
                    <ul style="font-size: 0.85rem; padding-left: 1rem;">
                        <li>💡 建立个人提示词模板库</li>
                        <li>💡 常用场景保存为固定格式</li>
                        <li>💡 复杂任务分多轮对话</li>
                        <li>💡 善用"继续"指令延伸输出</li>
                        <li>💡 不满意时让 AI 重新生成</li>
                    </ul>
                </div>
            </div>

        </div>
    </section>

        <!-- Prism.js syntax highlighting -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-go.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
    <script src="js/main.js"></script>
</body>
</html>